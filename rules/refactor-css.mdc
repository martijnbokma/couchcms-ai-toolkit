---
description: Auto-load refactoring rules for CSS files
globs: ['{{paths.css}}/**/*.css']
alwaysApply: false
---

# Refactoring Rules for CSS/TailwindCSS

## ğŸš¨ CRITICAL: Refactoring Workflow

**When a refactoring request is made (e.g., "refactor @file.css"), you MUST:**

1. **First**: Load and follow `@ai-toolkit-shared/prompts/refactoring/router.md`
2. **Router will**: Analyze the file, select appropriate specialist(s), request confirmation
3. **Then**: Apply the rules below as part of the selected specialist workflow

**Never skip the router analysis step - it ensures the correct specialist is selected.**

---

When refactoring this file, apply these rules:

## TailwindCSS Priority

- âŒ Avoid custom CSS for patterns Tailwind provides
- âœ… Use Tailwind utility classes first
- âœ… Only custom CSS for properties Tailwind doesn't have

## DaisyUI Colors

- âŒ Never use Tailwind colors: `bg-gray-100`, `text-black`
- âœ… Always use semantic colors: `bg-base-100`, `text-base-content`
- âœ… Theme-aware: colors adapt to light/dark themes

## Component Scoping

- âŒ Never use global element selectors with !important
- âœ… Use component-scoped class names
- âœ… Follow BEM or similar naming if needed

## File Organization

- Follow `{{paths.css}}/input.css` import structure
- Use kebab-case for file names
- Group related styles together

## Responsive Design

- Mobile-first approach
- Use breakpoint prefixes: `sm:`, `md:`, `lg:`, `xl:`
- Test across screen sizes

## TailwindCSS 4 Setup

- âœ… Use `@import "tailwindcss";` in CSS (no `tailwind.config.js`)
- âœ… Add daisyUI plugin: `@plugin "daisyui";`
- âœ… All config in CSS file (not JS config)
- âŒ Never use `tailwind.config.js` (deprecated in v4)

## DaisyUI Theme System

- âœ… Use semantic colors: `base-100`, `base-content`, `primary`, etc.
- âœ… Colors adapt automatically to light/dark themes
- âœ… No need for `dark:` prefixes with daisyUI colors
- âœ… Use `*-content` colors for text on colored backgrounds
- âŒ Never use Tailwind color names: `bg-gray-100`, `text-black` (breaks themes)

## Custom Themes

- âœ… Define custom theme with `@plugin "daisyui/theme"`
- âœ… Use OKLCH color format for better color control
- âœ… Set `default: true` for default theme
- âœ… Configure radius, size, border, depth, noise variables

## Component Classes

- âœ… Use `@layer components` for custom component classes
- âœ… Use `@apply` to compose Tailwind utilities
- âœ… Keep component classes minimal (prefer utilities)
- âœ… Use kebab-case for component class names

## Responsive Design

- âœ… Mobile-first approach (base styles for mobile)
- âœ… Use breakpoint prefixes: `sm:`, `md:`, `lg:`, `xl:`
- âœ… Test across screen sizes
- âœ… Use responsive grid: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3`

## Animation & Transitions

- âœ… Use Tailwind animation classes: `animate-fade-in`, `animate-pulse`
- âœ… Use daisyUI loading components: `loading loading-spinner`
- âœ… Custom animations in CSS with `@keyframes`
- âœ… Use `transition-*` utilities for smooth transitions

## Dark Mode

- âœ… Use daisyUI theme controller: `theme-controller` class
- âœ… Content adapts automatically with semantic colors
- âœ… No manual dark mode handling needed
- âœ… Use `swap` component for theme toggle

## Spacing & Layout

- âœ… Use consistent spacing: `space-y-4`, `space-x-2`
- âœ… Use grid gap: `gap-4 md:gap-6 lg:gap-8`
- âœ… Use container utilities: `container mx-auto px-4`
- âœ… Use flexbox utilities: `flex items-center justify-center`

## Typography

- âœ… Use responsive typography: `text-2xl sm:text-3xl md:text-4xl`
- âœ… Use opacity modifiers: `text-base-content/70`
- âœ… Use truncation: `truncate`, `line-clamp-3`
- âœ… Use semantic font weights: `font-bold`, `font-semibold`

## Checklist

- [ ] Prefer Tailwind utilities over custom CSS
- [ ] Using daisyUI semantic colors (not Tailwind colors)
- [ ] No global element selectors
- [ ] Mobile-first responsive design
- [ ] Proper file organization
- [ ] No unnecessary `!important` (use `!` suffix if needed)
- [ ] TailwindCSS 4 setup (no config.js)
- [ ] DaisyUI plugin configured
- [ ] Custom themes use OKLCH colors
- [ ] Component classes use `@layer components`
- [ ] Responsive breakpoints used consistently
- [ ] Dark mode works with theme controller
- [ ] Spacing system is consistent
- [ ] Typography is responsive


