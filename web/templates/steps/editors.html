<div>
    {% set sectionTitle = 'Editors & Tools' %}
    {% set sectionDescription = 'Select which editors and AI tools you use. Configuration files will only be generated for selected tools.' %}
    {% include "partials/section-header.html" %}

    <form hx-post="/api/setup/step/editors" hx-target="#wizard-content" hx-swap="innerHTML">
        {% include "partials/hidden-fields.html" %}

        {# Popular Editors - Using unified option-selector component #}
        {% from "partials/option-selector.html" import optionSelector %}
        {% set editorsSelected = editors|default([]) %}
        {{ optionSelector(
            popularEditors,
            'editors',
            'checkbox',
            editorsSelected,
            'Popular Editors & AI Tools',
            ''
        ) }}

        {# Other Editors - Using unified option-selector component #}
        {{ optionSelector(
            otherEditors,
            'editors',
            'checkbox',
            editorsSelected,
            'Other Editors & AI Tools',
            ''
        ) }}


        <!-- Quick Actions -->
        <div class="flex flex-wrap gap-2 mb-4 sm:mb-6">
            <button type="button" onclick="selectAllEditors()" class="relative inline-flex items-center justify-center h-auto px-4 py-2.5 sm:px-3 sm:py-1.5 text-xs font-medium transition-colors bg-base-100 rounded-full border border-base-300 hover:bg-base-200 active:bg-base-200 focus:outline-none cursor-pointer min-h-[44px] sm:min-h-0" aria-label="Select all editors">
                Select All
            </button>
            <button type="button" onclick="deselectAllEditors()" class="relative inline-flex items-center justify-center h-auto px-4 py-2.5 sm:px-3 sm:py-1.5 text-xs font-medium transition-colors bg-base-100 rounded-full border border-base-300 hover:bg-base-200 active:bg-base-200 focus:outline-none cursor-pointer min-h-[44px] sm:min-h-0" aria-label="Deselect all editors">
                Deselect All
            </button>
        </div>

        {% if setupType == 'simple' %}
        {% set nextButtonLabel = 'Next: Review' %}
        {% else %}
        {% set nextButtonLabel = 'Next: Advanced Options' %}
        {% endif %}
        {% set showBackButton = true %}
        {% include "partials/form-navigation.html" %}
    </form>

</div>
