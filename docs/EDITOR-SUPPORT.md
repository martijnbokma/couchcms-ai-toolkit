# Editor Support Guide

Complete guide to editor-specific configurations generated by the CouchCMS AI Toolkit.

## Overview

The toolkit generates optimized configurations for multiple AI-powered editors, each with their own unique features and capabilities. All configurations are automatically generated from your `standards.md` file.

## Supported Editors

| Editor | Config Files | Key Features |
|--------|-------------|--------------|
| **Cursor** | `.cursorrules`, `.cursor/rules/*.mdc` | Context-aware MDC rules |
| **Claude Code** | `.claude/settings.json`, `.claude/skills/*.md`, `CLAUDE.md` | Skills, permissions, memory |
| **GitHub Copilot** | `.github/copilot-instructions.md` | Instructions |
| **Windsurf** | `.windsurf/rules.md` | Rules |
| **Kiro** | `.kiro/steering/*.md` | Steering files |

---

## Cursor IDE

### Generated Files

```
.cursorrules                    # Global rules (always active)
.cursor/rules/                  # Context-aware rules (auto-activate)
  ‚îú‚îÄ‚îÄ refactor-alpinejs.mdc
  ‚îú‚îÄ‚îÄ refactor-forms.mdc
  ‚îú‚îÄ‚îÄ refactor-tailwind.mdc
  ‚îî‚îÄ‚îÄ ...
```

### Context-Aware MDC Rules

MDC (Model-driven Component) files are Cursor's advanced rule system that automatically activates based on file patterns.

**Example MDC file:**

```markdown
---
description: Alpine.js refactoring patterns for CouchCMS integration
globs:
  - "**/*.html"
  - "**/*.php"
---

# Alpine.js Refactoring Rules

## Critical Rules

1. **Never use Alpine.js shorthand syntax** - CouchCMS parser conflicts
   - ‚ùå `@click="handler"`
   - ‚úÖ `x-on:click="handler"`

2. **Always use full x-bind syntax**
   - ‚ùå `:class="classes"`
   - ‚úÖ `x-bind:class="classes"`

[More rules...]
```

### How MDC Rules Work

1. **Automatic Activation** - Rules activate when you open matching files
2. **Pattern Matching** - Uses glob patterns to match file types
3. **Context-Specific** - Different rules for different file types
4. **No Manual Loading** - Cursor loads them automatically

### Available MDC Rules

The toolkit includes these context-aware rules:

- `refactor-alpinejs.mdc` - Alpine.js patterns and CouchCMS integration
- `refactor-forms.mdc` - Form handling and DataBound Forms
- `refactor-tailwind.mdc` - TailwindCSS utility patterns
- `refactor-typescript.mdc` - TypeScript best practices
- `refactor-couchcms.mdc` - CouchCMS template patterns

### Customization

MDC rules are copied from `ai-toolkit-shared/rules/*.mdc`. To customize:

1. Edit rules in the toolkit directory
2. Run `bun ai-toolkit-shared/scripts/sync.js`
3. Rules are automatically copied to `.cursor/rules/`

---

## Claude Code

### Generated Files

```
.claude/
  ‚îú‚îÄ‚îÄ settings.json             # Permissions & environment
  ‚îî‚îÄ‚îÄ skills/                   # Modular knowledge
      ‚îú‚îÄ‚îÄ couchcms-core.md
      ‚îú‚îÄ‚îÄ tailwindcss.md
      ‚îú‚îÄ‚îÄ alpinejs.md
      ‚îú‚îÄ‚îÄ databound-forms.md
      ‚îî‚îÄ‚îÄ ...
CLAUDE.md                       # Memory file (loaded at startup)
AGENTS.md                       # Agent documentation
```

### Skills System

Skills are Claude Code's modular knowledge system. Each skill is a markdown file with YAML frontmatter.

**Example Skill:**

```markdown
---
name: couchcms-core
description: Core CouchCMS patterns, templates, and security standards
allowed-tools: Read, Write, Bash, Grep
---

# CouchCMS Core

## Template Structure

[Module content here...]
```

### How Skills Work

1. **Auto-Activation** - Skills activate based on context and file patterns
2. **Modular Knowledge** - Each module becomes a separate skill
3. **Tool Permissions** - Control which tools each skill can use
4. **Contextual Loading** - Claude loads relevant skills automatically

### Settings Configuration

The `settings.json` file configures permissions and environment:

```json
{
  "permissions": {
    "allow": [
      "Bash(npm run *)",
      "Bash(bun run *)",
      "Read(~/.config/**)"
    ],
    "deny": [
      "Read(./.env)",
      "Read(./.env.*)",
      "Read(./secrets/**)",
      "Bash(rm -rf *)"
    ]
  },
  "env": {
    "NODE_ENV": "development"
  }
}
```

**Security Features:**

- ‚úÖ Whitelist safe commands
- ‚ùå Blacklist dangerous operations
- üîí Protect sensitive files
- üåç Set environment variables

### Memory File (CLAUDE.md)

The memory file is loaded at Claude Code startup and provides:

- Project overview and context
- Active modules and agents
- Coding standards and patterns
- Architecture decisions
- Development workflow

**Example:**

```markdown
# Project: My CouchCMS App

## Overview
Full-featured CouchCMS web application with TailwindCSS and Alpine.js.

## Active Modules
- CouchCMS Core
- TailwindCSS
- Alpine.js
- DataBound Forms

## Coding Standards
[Your standards...]
```

### Agent Documentation (AGENTS.md)

Lists all available agents with descriptions and usage examples:

```markdown
# Available AI Agents

## @couchcms
Core CouchCMS templates, tags, and patterns

Usage: `@couchcms help with templates`

## @tailwindcss
TailwindCSS 4 styling with daisyUI 5 components

Usage: `@tailwindcss style this component`

[More agents...]
```

### Customization

Skills are generated from your active modules. To customize:

1. Edit module content in `ai-toolkit-shared/modules/`
2. Or add custom content to `standards.md`
3. Run `bun ai-toolkit-shared/scripts/sync.js`
4. Skills are automatically regenerated

---

## GitHub Copilot

### Generated Files

```
.github/
  ‚îî‚îÄ‚îÄ copilot-instructions.md   # Instructions for Copilot
```

### How It Works

GitHub Copilot reads instructions from `.github/copilot-instructions.md` and applies them to code suggestions.

**Content includes:**

- Project overview
- Active modules and patterns
- Coding standards
- Anti-patterns to avoid

### Customization

Instructions are generated from `standards.md`. To customize:

1. Edit `standards.md` (Markdown section)
2. Run `bun ai-toolkit-shared/scripts/sync.js`
3. Instructions are automatically updated

---

## Windsurf

### Generated Files

```
.windsurf/
  ‚îî‚îÄ‚îÄ rules.md                  # Windsurf rules
```

### How It Works

Windsurf reads rules from `.windsurf/rules.md` and applies them during code generation.

**Content includes:**

- Project context
- Module knowledge
- Coding standards
- Best practices

### Customization

Rules are generated from `standards.md`. To customize:

1. Edit `standards.md` (Markdown section)
2. Run `bun ai-toolkit-shared/scripts/sync.js`
3. Rules are automatically updated

---

## Kiro

### Generated Files

```
.kiro/
  ‚îî‚îÄ‚îÄ steering/                 # Steering files
      ‚îú‚îÄ‚îÄ project.md
      ‚îú‚îÄ‚îÄ modules.md
      ‚îî‚îÄ‚îÄ ...
```

### How It Works

Kiro reads steering files from `.kiro/steering/` and uses them to guide code generation.

**Content includes:**

- Project overview
- Module knowledge
- Coding standards
- Architecture patterns

### Customization

Steering files are generated from `standards.md`. To customize:

1. Edit `standards.md` (Markdown section)
2. Run `bun ai-toolkit-shared/scripts/sync.js`
3. Steering files are automatically updated

---

## Configuration Workflow

### 1. Single Source of Truth

All editor configurations are generated from `standards.md`:

```yaml
---
name: "my-project"
toolkit: "./ai-toolkit-shared"
modules:
  - couchcms-core
  - tailwindcss
  - alpinejs
agents:
  - couchcms
  - tailwindcss
---

# Project Rules
[Your custom rules...]
```

### 2. Automatic Generation

Run sync to generate all editor configs:

```bash
bun ai-toolkit-shared/scripts/sync.js
```

This generates:
- ‚úÖ Cursor rules (global + MDC)
- ‚úÖ Claude Code skills + settings
- ‚úÖ GitHub Copilot instructions
- ‚úÖ Windsurf rules
- ‚úÖ Kiro steering files
- ‚úÖ Memory files (CLAUDE.md, AGENTS.md)

### 3. Watch Mode

Auto-sync when `standards.md` changes:

```bash
bun ai-toolkit-shared/scripts/sync.js --watch
```

### 4. Validation

Validate all configurations:

```bash
bun ai-toolkit-shared/scripts/validate.js
```

---

## Examples

### Example 1: Minimal Setup

**standards.md:**
```yaml
---
name: "simple-blog"
toolkit: "./ai-toolkit-shared"
modules:
  - couchcms-core
---
```

**Generated:**
- `.cursorrules` - Basic CouchCMS rules
- `.cursor/rules/refactor-couchcms.mdc` - CouchCMS patterns
- `.claude/skills/couchcms-core.md` - CouchCMS skill
- `.claude/settings.json` - Basic permissions
- `CLAUDE.md` - Project context
- `AGENTS.md` - Available agents

### Example 2: Full-Featured App

**standards.md:**
```yaml
---
name: "webapp"
toolkit: "./ai-toolkit-shared"
modules:
  - couchcms-core
  - tailwindcss
  - alpinejs
  - typescript
  - databound-forms
agents:
  - couchcms
  - tailwindcss
  - alpinejs
  - typescript
  - databound-forms
---

# Coding Standards

## TypeScript
- Use strict mode
- Define interfaces for all data structures

## TailwindCSS
- Use semantic color classes (bg-base-100)
- Avoid hardcoded colors

## Alpine.js
- Always use full syntax (x-on:, x-bind:)
- Never use shorthand (@, :)
```

**Generated:**
- `.cursorrules` - All module rules
- `.cursor/rules/*.mdc` - Context-aware rules for each framework
- `.claude/skills/*.md` - Skills for each module
- `.claude/settings.json` - Comprehensive permissions
- `CLAUDE.md` - Full project context with standards
- `AGENTS.md` - All agent documentation

---

## Troubleshooting

### Configs Not Generated

**Problem:** Editor configs are missing after sync

**Solution:**
1. Check `standards.md` exists and is valid
2. Run validation: `bun ai-toolkit-shared/scripts/validate.js`
3. Check toolkit path is correct
4. Ensure dependencies are installed: `cd ai-toolkit-shared && bun install`

### MDC Rules Not Activating (Cursor)

**Problem:** Context-aware rules don't activate

**Solution:**
1. Check `.cursor/rules/*.mdc` files exist
2. Verify glob patterns match your files
3. Restart Cursor IDE
4. Check Cursor version supports MDC (v0.40+)

### Skills Not Loading (Claude Code)

**Problem:** Claude Code doesn't load skills

**Solution:**
1. Check `.claude/skills/*.md` files exist
2. Verify YAML frontmatter is valid
3. Restart Claude Code
4. Check Claude Code version supports skills

### Settings Not Applied (Claude Code)

**Problem:** Permissions or environment not working

**Solution:**
1. Check `.claude/settings.json` is valid JSON
2. Verify permissions syntax is correct
3. Restart Claude Code
4. Check Claude Code version supports settings

### Memory File Not Loaded

**Problem:** CLAUDE.md not loaded at startup

**Solution:**
1. Check `CLAUDE.md` exists in project root
2. Verify file is not empty
3. Restart Claude Code
4. Check Claude Code version supports memory files

---

## Best Practices

### 1. Keep Standards Updated

Update `standards.md` as your project evolves:

```bash
# Edit standards
code standards.md

# Sync configs
bun ai-toolkit-shared/scripts/sync.js
```

### 2. Use Watch Mode During Development

```bash
bun ai-toolkit-shared/scripts/sync.js --watch
```

This auto-syncs configs when you edit `standards.md`.

### 3. Validate Regularly

```bash
bun ai-toolkit-shared/scripts/validate.js
```

Catches configuration errors early.

### 4. Version Control

**Commit:**
- ‚úÖ `standards.md` - Your configuration
- ‚úÖ `ai-toolkit-shared/` - Toolkit submodule

**Ignore:**
- ‚ùå `.cursorrules` - Generated
- ‚ùå `.cursor/rules/` - Generated
- ‚ùå `.claude/` - Generated
- ‚ùå `CLAUDE.md` - Generated
- ‚ùå `AGENTS.md` - Generated

Add to `.gitignore`:
```
.cursorrules
.cursor/rules/
.claude/
CLAUDE.md
AGENTS.md
.github/copilot-instructions.md
.windsurf/
.kiro/steering/
```

### 5. Document Custom Rules

Add project-specific rules to `standards.md`:

```markdown
---
[YAML config...]
---

# Project Rules

## CouchCMS Patterns
[Your patterns...]

## Frontend Standards
[Your standards...]
```

These are included in all generated configs.

---

## Advanced Features

### Custom Permissions (Claude Code)

Add custom permissions to `standards.md`:

```yaml
---
name: "my-project"
toolkit: "./ai-toolkit-shared"
modules: [...]
claude:
  permissions:
    allow:
      - "Bash(custom-command *)"
    deny:
      - "Read(./private/**)"
  env:
    CUSTOM_VAR: "value"
---
```

### Custom MDC Rules (Cursor)

Create custom MDC rules in `ai-toolkit-shared/rules/`:

```markdown
---
description: Custom refactoring patterns
globs:
  - "**/*.custom"
---

# Custom Rules
[Your rules...]
```

Then sync:
```bash
bun ai-toolkit-shared/scripts/sync.js
```

### Module-Specific Skills (Claude Code)

Skills are automatically generated for each active module. To customize a skill:

1. Edit module in `ai-toolkit-shared/modules/`
2. Or create custom module
3. Add to `standards.md`
4. Sync configs

---

## Summary

- **Single Source** - All configs from `standards.md`
- **Auto-Generated** - Run sync to update all editors
- **Context-Aware** - MDC rules and skills activate automatically
- **Secure** - Permissions control what AI can access
- **Customizable** - Add project-specific rules and patterns

**Keep it simple** - edit `standards.md`, run sync, done!

---

## See Also

- [Quick Start](QUICK-START.md)
- [Config Files Guide](CONFIG-FILES.md)
- [Modules Guide](MODULES.md)
- [Agents Guide](AGENTS.md)
- [Troubleshooting](TROUBLESHOOTING.md)
