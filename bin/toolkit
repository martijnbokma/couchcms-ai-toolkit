#!/usr/bin/env bun
/**
 * CouchCMS AI Toolkit - Global CLI Entry Point
 *
 * This script allows 'toolkit' to be used as a global command
 * It delegates to scripts/toolkit.js
 */

import { fileURLToPath } from 'url'
import { dirname, join } from 'path'
import { spawnSync } from 'child_process'

// Get directory of this script
const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

// Path to the actual toolkit script
const toolkitScript = join(__dirname, '..', 'scripts', 'cli', 'toolkit.js')

// Get all arguments except node/bun and script name
const args = process.argv.slice(2)

// Execute the actual toolkit script
const result = spawnSync('bun', [toolkitScript, ...args], {
    stdio: 'inherit',
    cwd: process.cwd()
})

process.exit(result.status || 0)
